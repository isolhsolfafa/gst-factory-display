
<!DOCTYPE html>
<html>
<head>
    <title>GST 공장 불량 예측 분석</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .chart-container { width: 100%; height: 400px; margin: 20px 0; }
        .prediction-table { margin: 20px 0; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h1>🏭 GST 공장 불량 예측 분석 결과</h1>
    
    <div class="chart-container" id="defectChart"></div>
    
    <div class="prediction-table">
        <h2>📊 상위 불량 예측 결과</h2>
        <table>
            <tr><th>모델</th><th>예상불량률</th><th>부품</th><th>주요키워드</th></tr>
            <tr><td>7</td><td>77.2%</td><td>17</td><td>체결, 불량</td></tr><tr><td>7</td><td>75.3%</td><td>65</td><td></td></tr><tr><td>7</td><td>74.5%</td><td>63</td><td>삽입부</td></tr><tr><td>6</td><td>71.3%</td><td>72</td><td></td></tr><tr><td>7</td><td>68.2%</td><td>72</td><td></td></tr>
        </table>
    </div>
    
    <script>
        const data = {"predictions": [{"모델": 7, "예상불량률": 77.21154718663017, "불량유형": 0, "부품": 17, "누적": 57, "키워드": "체결, 불량", "제안": "공정 점검 및 작업자 교육 강화"}, {"모델": 7, "예상불량률": 75.32847268421172, "불량유형": 0, "부품": 65, "누적": 41, "키워드": "", "제안": "공정 점검 및 작업자 교육 강화"}, {"모델": 7, "예상불량률": 74.5201918608151, "불량유형": 0, "부품": 63, "누적": 32, "키워드": "삽입부", "제안": "공정 점검 및 작업자 교육 강화"}, {"모델": 6, "예상불량률": 71.27452532793143, "불량유형": 2, "부품": 72, "누적": 59, "키워드": "", "제안": "공정 점검 및 작업자 교육 강화"}, {"모델": 7, "예상불량률": 68.18849902643669, "불량유형": 2, "부품": 72, "누적": 42, "키워드": "", "제안": "공정 점검 및 작업자 교육 강화"}], "defect_analysis": [{"category": "불량", "count": 440, "percentage": 100.0}], "top_keywords": [], "suggestion": "정기적인 공정 점검 및 예방 조치 강화"};
        
        // Pie 차트 생성
        const pieData = [{
            values: data.defect_analysis.map(d => d.count),
            labels: data.defect_analysis.map(d => d.category),
            type: 'pie',
            textinfo: 'label+percent',
            textposition: 'auto'
        }];
        
        const layout = {
            title: '불량 유형별 분포',
            height: 400
        };
        
        Plotly.newPlot('defectChart', pieData, layout);
    </script>
</body>
</html>
        